!function e(t,n,a){function s(r,o){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+r+"'")}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return s(n?n:e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<a.length;r++)s(a[r]);return s}({1:[function(e,t,n){t.exports=Ractive.extend({template:e("../../templates/home"),components:{loginTpl:e("./login"),navBar:e("../views/navBar")},onrender:function(){this.on("addNewPlace",function(){console.log("Adding new Place"),userModel.isLogged()||$(".ui.modal").modal({blurring:!0}).modal("show")}),this.on("login",function(){console.log("User Login Succesfully"),$(".ui.modal").modal("hide")}),this.on("logout",function(){}),console.info("Home Page Rendered!")}})},{"../../templates/home":13,"../views/navBar":11,"./login":2}],2:[function(e,t,n){t.exports=Ractive.extend({template:e("../../templates/login"),components:{},onrender:function(){var e=this;this.observe("username",userModel.setter("value.username")),this.observe("password",userModel.setter("value.password")),this.on("login",function(){userModel.authenticate(function(t,n){if(t)e.set("error",t.error);else{e.set("error",!1),e.set("success","Login Succeful.");var a=n.token;userModel.set("authToken",a),window.localStorage.setItem("auth:token",a)}})})}})},{"../../templates/login":14}],3:[function(e,t,n){t.exports=Ractive.extend({template:e("../../templates/register"),components:{footerTemplate:e("../views/footer")},onrender:function(){var e=this;this.observe("username",userModel.setter("value.username")),this.observe("email",userModel.setter("value.email")),this.observe("password",userModel.setter("value.password")),this.on("register",function(){userModel.create(function(t,n){t?e.set("error",t.error):(e.set("error",!1),e.set("success",'Registration successful.Click <a href="/login">here</a> to login.'))}),console.info("Registration Page Rendered!")})}})},{"../../templates/register":16,"../views/footer":10}],4:[function(e,t,n){var a,s,i=e("./lib/router")(),r=e("./controllers/register"),o=e("./controllers/home"),l=(e("./controllers/login"),e("./models/user")),u=function(e){a&&a.teardown(),a=e,s.innerHTML="",a.render(s),a.on("navigation.goto",function(e,t){router.navigate(t)})};window.onload=function(){userModel=new l,s=document.querySelector("body .container"),i.add("home",function(){var e=new o;u(e)}).add("register",function(){var e=new r;u(e)}).add(function(){i.navigate("home")}).listen().check()}},{"./controllers/home":1,"./controllers/login":2,"./controllers/register":3,"./lib/router":6,"./models/user":9}],5:[function(e,t,n){t.exports={request:function(e){"string"==typeof e&&(e={url:e}),e.url=e.url||"",console.log("Performing new Ajax requesti @ "+e.url),e.method=e.method||"get",e.data=e.data||{};var t=function(e,t){var n,a=[];for(var s in e)a.push(s+"="+encodeURIComponent(e[s]));return n=a.join("&"),""!=n?t?t.indexOf("?")<0?"?"+n:"&"+n:n:""},n={host:{},process:function(e){var n=this;return this.xhr=null,window.ActiveXObject?this.xhr=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(this.xhr=new XMLHttpRequest),this.xhr&&(this.xhr.onreadystatechange=function(){if(4==n.xhr.readyState&&200==n.xhr.status){var t=n.xhr.responseText;e.json===!0&&"undefined"!=typeof JSON&&(t=JSON.parse(t)),n.doneCallback&&n.doneCallback.apply(n.host,[t,n.xhr])}else 4==n.xhr.readyState&&n.failCallback&&n.failCallback.apply(n.host,[n.xhr]);n.alwaysCallback&&n.alwaysCallback.apply(n.host,[n.xhr])}),"get"==e.method?this.xhr.open("GET",e.url+t(e.data,e.url),!0):e.formData?this.xhr.open(e.method,e.url):(this.xhr.open(e.method,e.url,!0),this.setHeaders({"X-Requested-With":"XMLHttpRequest","Content-type":"application/x-www-form-urlencoded"})),e.headers&&"object"==typeof e.headers&&this.setHeaders(e.headers),setTimeout(function(){e.formData?n.xhr.send(e.formData):"get"==e.method?n.xhr.send():n.xhr.send(t(e.data))},20),this},done:function(e){return this.doneCallback=e,this},fail:function(e){return this.failCallback=e,this},always:function(e){return this.alwaysCallback=e,this},setHeaders:function(e){for(var t in e)this.xhr&&this.xhr.setRequestHeader(t,e[t])}};return n.process(e)}}},{}],6:[function(e,t,n){t.exports=function(){return{routes:[],root:"/",getFragment:function(){var e="";return e=this.clearSlashes(decodeURI(location.pathname+location.search)),e=e.replace(/\?(.*)$/,""),e="/"!==this.root?e.replace(this.root,""):e,this.clearSlashes(e)},add:function(e,t){return"function"==typeof e&&(t=e,e=""),console.info("Adding new route: "+e),this.routes.push({path:e,handler:t}),this},check:function(e,t){var n,a;n="undefined"!=typeof e?e.replace(/^\//,""):this.getFragment();for(var s=0;s<this.routes.length;s++){var i,r=this.routes[s].path;r=r.replace(/^\//,""),a=r.match(/:[^\s\/]+/g);var o=new RegExp("^"+r.replace(/:[^\s\/]+/g,"([\\w-]+)"));if(i=n.match(o)){i.shift();var l={};if(a)for(j=0;j<a.length;j++){var u=a[j];l[u.substr(1,u.length)]=i[j]}return this.routes[s].handler.apply({},(t||[]).concat([l])),this}}},listen:function(){var e=this,t=e.getFragment(),n=function(){t!==e.getFragment()&&(t=e.getFragment(),e.check(t))};return clearInterval(this.interval),this.interval=setInterval(n,50),this},clearSlashes:function(e){return e.toString().replace(/\/$/,"").replace(/^\//,"")},navigate:function(e){return e=e?e:"",history.pushState(null,null,this.root+this.clearSlashes(e)),this}}}},{}],7:[function(e,t,n){var a=e("../lib/Ajax");t.exports=Ractive.extend({data:{value:null,url:""},create:function(e){var t=this;return a.request({url:t.get("url"),method:"POST",data:this.get("value"),json:!0}).done(function(t){console.log("success"+t),e&&e(null,t)}).fail(function(t){console.log("Error json"),console.log(t),e&&e(JSON.parse(t.responseText))}),this},save:function(e){var t=this;return a.request({url:t.get("url"),method:"PUT",data:this.get("value"),json:!0}).done(function(t){e&&e(null,t)}).fail(function(t){e&&e(JSON.parse(t.responseText))}),this},remove:function(e){var t=this;return a.request({url:t.get("url"),method:"DELETE",data:this.get("value"),json:!0}).done(function(t){e&&e(null,t)}).fail(function(t){e&&e(JSON.parse(t.responseText))}),this},fetch:function(){var e=this;return a.request({url:e.get("url"),json:!0}).done(function(t){e.set("value",t)}).fail(function(t){e.fire("Error while fetching "+e.get("url"))}),this},bindComponent:function(e){return e&&this.observe("value",function(t){for(var n in t)e.set(n,t[n])},{init:!1}),this},setter:function(e){var t=this;return function(n){t.set(e,n)}}})},{"../lib/Ajax":5}],8:[function(e,t,n){var a=e("./Base");t.exports=a.extend({data:{url:"/api/version"}})},{"./Base":7}],9:[function(e,t,n){var a=e("./Base"),s=e("../lib/Ajax");t.exports=a.extend({data:{url:"/api/user",authURL:"api/auth",authToken:null,name:""},authenticate:function(e){var t=this;return s.request({url:t.get("authURL"),method:"POST",data:this.get("value"),json:!0}).done(function(t){e&&e(null,t)}).fail(function(t){e&&e(JSON.parse(t.responseText))}),this},getName:function(){var e=this;return e.get("value.username")},logout:function(){var e=this;e.get("authToken")&&e.set("authToken",null),window.localStorage.getItem("auth:token")&&window.localStorage.removeItem("auth:token")},isLogged:function(){var e=this;return null==e.get("authToken")&&(console.warn("Didnt found active token, searching in storage"),e.set("authToken",window.localStorage.getItem("auth:token"))),null!=e.get("authToken")}})},{"../lib/Ajax":5,"./Base":7}],10:[function(e,t,n){var a=e("../models/Version");t.exports=Ractive.extend({template:e("../../templates/footer"),onrender:function(){var e=new a;e.bindComponent(this).fetch()}})},{"../../templates/footer":12,"../models/Version":8}],11:[function(e,t,n){t.exports=Ractive.extend({template:e("../../templates/navBar"),oninit:function(){var e=this;e.set("isLogged",userModel.isLogged()),e.set("uname",userModel.getName())}})},{"../../templates/navBar":15}],12:[function(e,t,n){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"footer"},f:[{t:7,e:"div",a:{"class":"ui inverted vertical footer segment"},f:[{t:7,e:"div",a:{"class":"ui horizontal list"},f:[{t:7,e:"div",a:{"class":"item"},f:[{t:7,e:"i",a:{"class":"large html5 centered icon"}}]}," ",{t:7,e:"div",a:{"class":"item"},f:[{t:7,e:"i",a:{"class":"large css3 centered icon"}}]}]}]}]}]}},{}],13:[function(e,t,n){t.exports={v:3,t:[{t:7,e:"navBar"}," ",{t:7,e:"div",a:{"class":"ui modal"},f:[{t:7,e:"div",a:{"class":"ui secondary pointing fluid menu"},f:[{t:7,e:"a",a:{"class":"active item login"},f:["Login"]}," ",{t:7,e:"a",a:{"class":"item register"},f:["Register"]}]}," ",{t:7,e:"loginTpl"}]}," ",{t:7,e:"div",a:{"class":"ui grid"},f:[{t:7,e:"div",a:{"class":"two wide column"},f:[]}," ",{t:7,e:"div",a:{"class":"four wide column"},f:[{t:7,e:"h4",f:["ADD FRIENDS"]}," ",{t:7,e:"p",f:["Add the email of your friends you want to share your trip with"]}," ",{t:7,e:"div",a:{"class":"add-friends"},f:[{t:7,e:"div",a:{"class":"ui input add"},f:[{t:7,e:"input",a:{type:"text",placeholder:"Email or Username"}}]}," ",{t:7,e:"button",a:{"class":"ui blue button"},f:["ADD"]}," ",{t:7,e:"div",a:{"class":"add-body"},f:[{t:7,e:"p",f:["Friends So Far:"]}]}]}," ",{t:7,e:"h4",f:["ADD DESTINATION"]}," ",{t:7,e:"p",f:["Add the destinatons your trip is going to have"]}," ",{t:7,e:"div",a:{"class":"add-places"},f:[{t:7,e:"p",f:["Search for your place"]}," ",{t:7,e:"div",a:{"class":"ui fluid icon input add-place"},f:[{t:7,e:"input",a:{type:"text",placeholder:"Destination Name"}}," ",{t:7,e:"i",a:{"class":"inverted circular search link blue icon"}}]}," ",{t:7,e:"div",a:{"class":"ui grid"},f:[{t:7,e:"div",a:{"class":"eight wide column start-date"},f:[{t:7,e:"p",f:["Begin At:"]}," ",{t:7,e:"div",a:{"class":"ui icon input fluid"},f:[{t:7,e:"input",a:{type:"text",placeholder:"15/01/2016"}}," ",{t:7,e:"i",a:{"class":"calendar icon"},f:[]}]}]}," ",{t:7,e:"div",a:{"class":"eight wide column end-date"},f:[{t:7,e:"p",f:["Leave At:"]}," ",{t:7,e:"div",a:{"class":"ui icon input fluid"},f:[{t:7,e:"input",a:{type:"text",placeholder:"27/02/2016"}}," ",{t:7,e:"i",a:{"class":"calendar icon"},f:[]}]}]}," ",{t:7,e:"div",a:{"class":"sixteen wide column end-date"},f:[{t:7,e:"p",f:["We will travel with:"]}," ",{t:7,e:"div",a:{"class":"ui icon input fluid"},f:[{t:7,e:"input",a:{type:"text",placeholder:"Transportation"}}," ",{t:7,e:"i",a:{"class":"plane icon"},f:[]}]}]}," ",{t:7,e:"div",a:{"class":"ten wide column end-date"},f:[{t:7,e:"p",f:["Estimated Cost:"]}," ",{t:7,e:"div",a:{"class":"ui icon input fluid"},f:[{t:7,e:"input",a:{type:"text",placeholder:"Cost"}}," ",{t:7,e:"i",a:{"class":"euro icon"},f:[]}]}]}," ",{t:7,e:"div",a:{"class":"eight wide column end-date"},f:[{t:7,e:"button",a:{"class":"ui green button fluid"},v:{click:"addNewPlace"},f:["ADD PLACE!"]}]}]}]}]}," ",{t:7,e:"div",a:{"class":"ten wide column"},f:[{t:7,e:"iframe",a:{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d295111.11422058253!2d24.972747426560392!3d54.69984791098937!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sus!4v1456406421655",width:"853",height:"700",frameborder:"0",style:"border:0",allowfullscreen:0}}]}]}]}},{}],14:[function(e,t,n){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"login-form"},f:[{t:7,e:"form",a:{"class":"ui form"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"error"},f:[{t:2,r:"error"}]}],n:50,x:{r:["error"],s:'_0&&_0!=""'}}," ",{t:4,f:[{t:7,e:"div",a:{"class":"success"},f:[{t:3,r:"success"}]}],n:50,x:{r:["success"],s:'_0&&_0!=""'}},{t:4,n:51,f:[{t:7,e:"div",a:{"class":"register-title"},f:[{t:7,e:"h2",f:["Login"]}]}," ",{t:7,e:"div",a:{"class":"ui fluid left icon input"},f:[{t:7,e:"i",a:{"class":"user icon"}}," ",{t:7,e:"input",a:{type:"text",id:"username",value:[{t:2,r:".username"}],placeholder:"Username"}}]}," ",{t:7,e:"div",a:{"class":"ui fluid left icon input"},f:[{t:7,e:"i",a:{"class":"lock icon"}}," ",{t:7,e:"input",a:{type:"password",value:[{t:2,r:".password"}],placeholder:"Password"}}]}," ",{t:7,e:"input",a:{type:"button","class":"fluid ui button",value:"Submit"},v:{click:"login"}}],x:{r:["success"],s:'_0&&_0!=""'}}]}]}]}},{}],15:[function(e,t,n){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"ui secondary pointing menu"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"right menu"},f:[{t:7,e:"a",a:{"class":"ui item"},f:["Hello ",{t:2,r:".name"}]}," ",{t:7,e:"a",a:{"class":"ui item"},f:["Logout"]}]}],n:50,r:"isLogged"}]}]}},{}],16:[function(e,t,n){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"register-form"},f:[{t:7,e:"form",a:{"class":"ui form"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"error"},f:[{t:2,r:"error"}]}],n:50,x:{r:["error"],s:'_0&&_0!=""'}}," ",{t:4,f:[{t:7,e:"div",a:{"class":"success"},f:[{t:3,r:"success"}]}],n:50,x:{r:["success"],s:'_0&&_0!=""'}},{t:4,n:51,f:[{t:7,e:"div",a:{"class":"register-title"},f:[{t:7,e:"h2",f:["Register!"]}]}," ",{t:7,e:"div",a:{id:"username","class":"ui fluid left icon input"},f:[{t:7,e:"i",a:{"class":"user icon"}}," ",{t:7,e:"input",a:{type:"text",id:"username",value:[{t:2,r:"username"}],placeholder:"Username"}}]}," ",{t:7,e:"div",a:{id:"email","class":"ui fluid left icon input"},f:[{t:7,e:"i",a:{"class":"mail icon"}}," ",{t:7,e:"input",a:{type:"email",id:"email",value:[{t:2,r:"email"}],placeholder:"Email"}}]}," ",{t:7,e:"div",a:{id:"pwd","class":"ui fluid left icon input"},f:[{t:7,e:"i",a:{"class":"lock icon"}}," ",{t:7,e:"input",a:{type:"password",value:[{t:2,r:"password"}],placeholder:"Password"}}]}," ",{t:7,e:"input",a:{type:"button","class":"fluid ui button",value:"Submit"},v:{click:"register"}}],x:{r:["success"],s:'_0&&_0!=""'}}]}]}]}},{}]},{},[4]);